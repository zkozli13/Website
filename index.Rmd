---
title: "SQL"
output: html_document
---

## Filtering Rows and Columns 

With SQL, you can filter columns with SELECT and rows with WHERE. Let's look at an example from the Lahman baseball database. First, we need to load some packages. 

```{r warning=FALSE,message=FALSE}
library(Lahman)
library(sqldf)
```

## Order By
Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following: 

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='NYA' and yearID=1927"
sqldf(query)

```

Suppose we want to see the homerun
```{r}
query<-"SELECT teamID, playerID, YearID,HR FROM Batting
WHERE HR>50
ORDER BY HR DESC"
sqldf(query)

```

Suppose we wanted to see players who have hit more than 40 homeruns with less than 60 strikeouts 
```{r}
query<-"SELECT playerid, yearid, teamid, HR, SO FROM Batting
WHERE SO<60 and HR>40"
sqldf(query)

```

Suppose we want to see players on the New York Yankees who have atleast 40 homeruns
```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='NYA' and HR>=40"
sqldf(query)

```

